<div class="contenedor">
  <div class="titulo">
<h1>Gestion de colectivos</h1>
</div>
<div class="agregarbtn">
  <button data-bs-toggle="modal" (click)="tipodemodal(-1)" data-bs-target="#exampleModal" type="button" class="btn btn-success">Agregar</button>
</div>
  <table class="table table-bordered table-striped table-hover">
    <thead>
        <tr>
          <th scope="col">ID</th>
          <th scope="col">Patente</th>
          <th scope="col">Cantidad de asientos</th>
          <th scope="col">Nombre</th>
          <th scope="col">Marca</th>
          <th scope="col" colspan="3">Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let colectivo of colectivos; let i = index">
          <th scope="row">{{colectivo.id}}</th>
          <td>{{colectivo.patente}}</td>
          <td>{{colectivo.cantidadAsientos}}</td>
          
          <ng-container *ngFor="let modelo of modelos" >
           <!--  {{modelo.id}}-{{colectivo.modeloId}} -->
            <ng-container *ngIf="modelo.id == colectivo.modeloId">
              
              <td>{{modelo.nombre}}</td>
              <td>{{modelo.marca}}</td>
            
            </ng-container>
           
          </ng-container>

          <td><button data-bs-toggle="modal" (click)="tipodemodal(i)" data-bs-target="#exampleModal" type="button" class="btn btn-primary">Editar</button></td>
          <td><button (click)="borrarColectivo(colectivo.id!)" type="button" class="btn btn-danger">Borrar</button></td>
<!--           <td><button type="button" class="btn btn-info">Detalles</button></td>
 -->        </tr>       
      </tbody>
  </table>

<div class="contenedor">
<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel">{{titulo}}</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">        
          <form>
            <div class="mb-3">
              <label for="patente" class="col-form-label">Patente:</label>
              <input  type="text" class="form-control" id="patente" [(ngModel)]="nuevocolectivo.patente" name="patente" required>
            </div>
           <div class="mb-3">
              <label for="cantidadAsientos" class="col-form-label">Cantidad de asientos:</label>
              <input  type="number" class="form-control" id="cantidadAsientos" [(ngModel)]="nuevocolectivo.cantidadAsientos" name="cantidadAsientos" required>
            </div>
            <div class="mb-3">
              <label for="modelo" class="col-form-label">Modelo del colectivo:</label>
              <select id="modelo" class="form-select" aria-label="Default select example">
                <option value="-1" selected disabled>Elija el modelo</option>
                <ng-container *ngFor="let modelo of modelos; let i = index">
            
                  
                  
                    <option value="{{i+1}}">{{modelo.nombre}} - {{modelo.marca}}</option>
                  
                 
                 
                </ng-container>
                

              </select>
            </div>
            
     <!--        <div class="mb-3">
                <label for="modeloId" class="col-form-label">modeloId:</label>
                <input  type="number" class="form-control" id="modeloId" [(ngModel)]="nuevocolectivo.modeloId" name="modeloId" required>
              </div>   -->
          </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
        <button (click)="validar()" type="button" data-bs-dismiss="modal" class="btn btn-primary">Aceptar</button>
      </div>
    </div>
  </div>
</div>
</div>